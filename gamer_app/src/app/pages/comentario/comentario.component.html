<app-header></app-header> 
    <br>
    <div class="card">
        <section class="comentarios-container">
            <div class="comentarios-grid">
                <form (submit)="redirectToLogin()">
                    <div *ngIf="auth =='viewer' || (auth !== 'viewer' && auth !== 'admin')">
                        <p class="title-p-com">Comentario</p>
                        <textarea [(ngModel)]="nuevoComentario" class="class-com-input"  name="comentario_descripcion" rows="8"  placeholder="Escribe tu comentario aquí..."></textarea>
                        <button class="button-comentario" name="enviar" (click)="agregarComentario()" >Enviar</button>
                    </div>
                    <p class="title-p-com-admin" *ngIf="auth =='admin'">Listar Comentarios</p>
                </form>
                
                <div class="comentario-card" *ngFor="let comentario of comentarios  | paginate: { itemsPerPage: itemsPerPage, currentPage: page}">
                    <img [src]="comentario.com_avatar" alt="Avatar de {{comentario.com_username}}" class="avatar">
                    <div class="comentario-content">
                        <h3 class="username">{{ comentario.com_username }}</h3>
                        <p class="descripcion">{{ comentario.com_descripcion }}</p>
                        <span class="fecha">{{ comentario.com_fecha | date:'yyyy-MM-dd HH:mm:ss' }}</span>
                    </div>
                    <div class="div-buttons" *ngIf="auth =='admin'">
                        <button class="bt-prod-card-edit" routerLink="/">Actualizar</button>
                        <button class="bt-prod-card-delete"  routerLink="/">Eliminar</button>
                    </div>
                </div>
                <br>
                <!-- Controles de paginación -->
                <div class="class-pagination">
                    <pagination-controls (pageChange)="page = $event"></pagination-controls>
                </div>
            </div>
        </section>
    </div>
    <br>
<app-footer></app-footer>


